{"version":3,"sources":["../src/hash-actions.js"],"names":[],"mappings":"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","file":"hash-actions.js","sourcesContent":["/*! hash-actions v0.0.3 | Kari SÃ¶derholm | https://github.com/Haprog/hash-actions */\nwindow.hashActions = (() => {\n  const registeredHashes = [];\n  let oldHash = window.location.hash;\n  const hashActions = {\n    hideEmptyHashFromURL: false,\n\n    removeHashSymbol(url) {\n      return url.split('#')[0];\n    },\n\n    setHash(hash) {\n      if (hash === '') {\n        this.removeHashWithoutReload();\n      } else {\n        window.location.hash = hash;\n      }\n    },\n\n    setHashWithoutScrolling(hash) {\n      const scrollV = document.body.scrollTop;\n      const scrollH = document.body.scrollLeft;\n\n      window.location.hash = hash;\n\n      document.body.scrollTop = scrollV;\n      document.body.scrollLeft = scrollH;\n    },\n\n    removeHashWithoutReload(triggeredByHashChange) {\n      const loc = window.location;\n      if ('replaceState' in history) {\n        history.replaceState('', document.title, loc.pathname + loc.search);\n\n        if (oldHash !== '' && !triggeredByHashChange) {\n          this._onHashChange('');\n        }\n      } else if (loc.hash !== '') {\n        // Fallback for old browsers\n        this.setHashWithoutScrolling('');\n      }\n    },\n\n    isCurrentHash(hash) {\n      return window.location.hash === hash;\n    },\n\n    isRegisteredHash(hash) {\n      return registeredHashes.indexOf(hash) > -1;\n    },\n\n    isCurrentRegisteredHash() {\n      return this.isRegisteredHash(window.location.hash);\n    },\n\n    registerHash(hash, triggerOnCurrent) {\n      if (this.isRegisteredHash(hash)) return;\n\n      registeredHashes.push(hash);\n\n      if (triggerOnCurrent && this.isCurrentHash(hash)) {\n        this.triggerHashEnter(hash);\n      }\n    },\n\n    unregisterHash(hash) {\n      const i = registeredHashes.indexOf(hash);\n      if (i > -1) {\n        registeredHashes.splice(i, 1);\n      }\n    },\n\n    _triggerCustomEvent(el, eventName, data) {\n      let event;\n      if (window.CustomEvent) {\n        event = new CustomEvent(eventName, { detail: data });\n      } else {\n        event = document.createEvent('CustomEvent');\n        event.initCustomEvent(eventName, true, true, data);\n      }\n      el.dispatchEvent(event);\n    },\n\n    triggerHashEnter(hash) {\n      this._triggerCustomEvent(document, `hashactions:enter:${hash}`);\n    },\n\n    triggerHashExit(hash) {\n      this._triggerCustomEvent(document, `hashactions:exit:${hash}`);\n    },\n\n    onHashEnter(hash, callback, triggerOnCurrent) {\n      this.registerHash(hash);\n      document.addEventListener(`hashactions:enter:${hash}`, callback);\n\n      if (triggerOnCurrent && this.isCurrentHash(hash)) {\n        callback();\n      }\n    },\n\n    onHashExit(hash, callback) {\n      this.registerHash(hash);\n      document.addEventListener(`hashactions:exit:${hash}`, callback);\n    },\n\n    // Shorthand for defining both onHashEnter and onHashExit\n    on(hash, o, triggerEnterOnCurrent) {\n      if (typeof o.exit === 'function') {\n        this.onHashExit(hash, o.exit);\n      }\n      if (typeof o.enter === 'function') {\n        this.onHashEnter(hash, o.enter, triggerEnterOnCurrent);\n      }\n    },\n\n    _onHashChange(hash) {\n      if (hash !== oldHash && this.isRegisteredHash(oldHash)) {\n        this.triggerHashExit(oldHash);\n      }\n      if (this.isRegisteredHash(hash)) {\n        this.triggerHashEnter(hash);\n      }\n      oldHash = hash;\n\n      if (hash === '' && this.hideEmptyHashFromURL) {\n        this.removeHashWithoutReload(true);\n      }\n    },\n  };\n\n  window.addEventListener('hashchange', () => {\n    hashActions._onHashChange(window.location.hash);\n  });\n\n  return hashActions;\n})();\n"]}